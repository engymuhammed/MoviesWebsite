<div class="container my-5" *ngIf="movie">
  <div class="row">
    <!-- Poster -->
    <div class="col-md-4">
      <img [src]="'https://image.tmdb.org/t/p/w500' + movie.poster_path" class="img-fluid rounded-4 shadow"
        [alt]="movie.title" [title]="movie.title">
    </div>

    <!-- Details -->
    <div class="col-md-8">
      <h2 class="fw-bold mb-3">{{ movie.title }}</h2>
      <p class="text-muted">
        ⭐ {{ movie.vote_average | number:'1.1-1' }} / 10
        | 📅 {{ movie.release_date }}
        | ⏱ {{ movie.runtime || 'N/A' }} min
      </p>
      <p>{{ movie.overview }}</p>
      <div class="mt-3">
        <span class="badge bg-primary me-2" *ngFor="let g of movie.genres">{{ g.name }}</span>
      </div>
    </div>
  </div>

  <!-- Recommended Movies -->
  <div *ngIf="recommendedMovies.length > 0" class="mt-5">
    <h4 class="text-light mb-3">🎬 Recommended Movies</h4>
    <div class="recommended-carousel-wrapper">
      <div class="recommended-carousel">
        <div class="recommended-movie-card" *ngFor="let rec of recommendedMovies" (click)="goToDetails(rec.id)">
          <img [src]="rec.poster_path ? 'https://image.tmdb.org/t/p/w200' + rec.poster_path : 'assets/no-poster.png'"
            [alt]="rec.title || 'Movie Poster'" [title]="rec.title || 'Movie Poster'">
          <h6 class="text-truncate mt-1 text-center">{{ rec.title }}</h6>
          <p class="small text-center">⭐ {{ rec.vote_average }}</p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Loading message -->
<div *ngIf="!movie" class="loading-message text-center">
  <h4>Movies is Loading. Please Wait...</h4>
</div>